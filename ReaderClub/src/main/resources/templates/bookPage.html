<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Book Details</title>
        <link href="css/style.css" rel="stylesheet">
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet">
            <style type="text/css">
            body {
                background-color: #c9bb99;
                font-family: Arial;
                margin: 0 auto; /* Center website */
                max-width: 800px; /* Max width */
                padding: 20px;
                background-repeat: no-repeat;
                background-attachment: fixed;
                background-size: 100% 100%;
            }
        </style>
    </head>
    <body>
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v10.0" nonce="uOkgK4XN"></script>
        <header>     
        </header>
        <content>
            <div class="container">
                <div class="row">
                    <div class="col-md-5">
                        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img th:src="@{${coverImg}}" class="d-block w-100" alt="First slide">
                            </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7">
                        <p class="Audiobooks text-center">Audio</p>
                        <h2 th:text="'Title: '+${title}">The Craft</h2>
                        <p th:text="'Author: '+${author}"><b>By:</b> John Dickie</p>
                        <p th:text="'Narrated by: '+${uploader}"><b>Narrated by:</b> Simon Slater</p>
                        <p th:text="'Type: '+${type}"><b>Type:</b> Novel</p>
                        <p th:text="'Description: '+${description}"><b>Description:</b> Founded in London in 1717 as a way of binding men in fellowship,
                            Freemasonry proved so addictive that within two decades it had spread across the globe.</p>
                        <p><input type="button" name="weatherLike" onclick="dolike()" th:value="${like}" /></p>
                        <p><b>Chapter 1</b> <audio controls="controls" height="100" width="100">
                            <source th:src="@{${audioPath}}" type="audio/mp3" />
                          <embed height="100" width="100" src="css/audio/StarsAlign.mp3" />
                        </audio>
                        </p>
                    </div>
                </div>
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
                <script th:inline="javascript">
                    function dolike() {
                        var bookName = [[${title}]];
                        console.log(bookName);
                        var xmlhttp;
                        if(window.XMLHttpRequest) {
                            xmlhttp = new XMLHttpRequest();
                        } else {
                            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                        }
                        xmlhttp.onreadystatechange = function () {
                            if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                console.log("success");
                            }
                        };
                        var target = "/bookpage/"+[[${title}]];
                        xmlhttp.open("POST",target, true);
                        xmlhttp.send(bookName);
                        console.log("sent!");
                        window.location.reload();
                    }
                </script>

    <span class="heading">User Rating</span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star checked"></span>
    <span class="fa fa-star"></span>
    <p>4.1 average based on 254 reviews.</p>
    <hr style="border:3px solid #f1f1f1">

                <div id="commentbackground">
                
                <p id="para"></p>
                
                <form>
                <textarea id="words" rows="3" cols="30">Enter comment</textarea>
                <input type="button" onclick="getwords()" value="Enter" />
                </form>
                
                <script type="text/javascript">
                function getwords(){
                text = words.value;
                document.getElementById("para").innerHTML = text
                document.getElementById("words").innerHTML = "enter"
                }
                </script>
                
                </div>
                </div>
            </div>
        </content>
        
        <!-- <a href="css/audio/StarsAlign.mp3">Play Sound</a>

        <script type="text/javascript" src="http://mediaplayer.yahoo.com/js">
        </script> -->
    </body>
</html>